/** * Copyright (C), 2015-2020, XXX有限公司 * FileName: DynamicTask * Author:   Administrator * Date:     2020/11/6 21:22 * Description: * History: * <author>          <time>          <version>          <desc> * 作者姓名           修改时间           版本号              描述 */package com.study.it.controller;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;import org.springframework.scheduling.support.CronTrigger;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.Date;import java.util.concurrent.ScheduledFuture;/** * 〈一句话功能简述〉<br>  * 〈〉 * * @author Administrator * @create 2020/11/6 * @since 1.0.0 */@RestControllerpublic class DynamicTask {    @Autowired    private ThreadPoolTaskScheduler threadPoolTaskScheduler;    private ScheduledFuture<?> future;    @RequestMapping("/startCron")    public String startCron(){        future = threadPoolTaskScheduler.schedule(new MyRunnable(),new CronTrigger("0/5 * * * * *"));        System.out.println(" DynamicTask.startCorn");        return "startCron";    }    @RequestMapping("/stopCron")    public String stopCron(){        if (future != null){            future.cancel(true);        }        System.out.println(" DynamicTask.stopCron");        return "stopCron";    }    private class MyRunnable implements Runnable{        @Override        public void run(){            System.out.println("DynamicTask.MyRunnable.run()," + new Date());        }    }}